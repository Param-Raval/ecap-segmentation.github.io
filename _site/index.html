<!DOCTYPE html>
<html lang="en-US">

  <head>
    <!-- General meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    
      <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>eCAP Segmentation | Blogpost on eCAP Segmentation and annotation tool</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="eCAP Segmentation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blogpost on eCAP Segmentation and annotation tool" />
<meta property="og:description" content="Blogpost on eCAP Segmentation and annotation tool" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="eCAP Segmentation" />
<script type="application/ld+json">
{"@type":"WebSite","headline":"eCAP Segmentation","url":"http://localhost:4000/","name":"eCAP Segmentation","description":"Blogpost on eCAP Segmentation and annotation tool","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    

    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#242e2b"/>

    
      <link rel="stylesheet" href="/assets/styles.css">
    

    

    

    


    <!-- Overwrite this file with code you want before the closing head tag -->

  </head>

  <body class="layout-page">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="height: 0; position: absolute">
  <symbol id="codepen" viewBox="0 0 16 16"><path d="M15.988 5.443c-.004-.02-.007-.04-.012-.058l-.01-.033c-.006-.017-.012-.034-.02-.05-.003-.012-.01-.023-.014-.034l-.023-.045-.02-.032-.03-.04-.024-.03c-.01-.013-.022-.026-.034-.038l-.027-.027-.04-.032-.03-.024-.012-.01L8.38.117c-.23-.155-.53-.155-.76 0L.305 4.99.296 5c-.012.007-.022.015-.032.023-.014.01-.027.02-.04.032l-.027.027-.034.037-.024.03-.03.04c-.006.012-.013.022-.02.033l-.023.045-.015.034c-.007.016-.012.033-.018.05l-.01.032c-.005.02-.01.038-.012.058l-.006.03C.002 5.5 0 5.53 0 5.56v4.875c0 .03.002.06.006.09l.007.03c.003.02.006.04.013.058l.01.033c.006.018.01.035.018.05l.015.033c.006.016.014.03.023.047l.02.03c.008.016.018.03.03.042.007.01.014.02.023.03.01.012.02.025.034.036.01.01.018.02.028.026l.04.033.03.023.01.01 7.31 4.876c.116.078.248.117.382.116.134 0 .266-.04.38-.116l7.314-4.875.01-.01c.012-.007.022-.015.032-.023.014-.01.027-.02.04-.032l.027-.027.034-.037.024-.03.03-.04.02-.032.023-.046.015-.033.018-.052.01-.033c.005-.02.01-.038.013-.058 0-.01.003-.02.004-.03.004-.03.006-.06.006-.09V5.564c0-.03-.002-.06-.006-.09l-.007-.03zM8 9.626L5.568 8 8 6.374 10.432 8 8 9.626zM7.312 5.18l-2.98 1.993-2.406-1.61 5.386-3.59v3.206zM3.095 8l-1.72 1.15v-2.3L3.095 8zm1.237.828l2.98 1.993v3.208l-5.386-3.59 2.406-1.61zm4.355 1.993l2.98-1.993 2.407 1.61-5.387 3.59v-3.206zM12.905 8l1.72-1.15v2.3L12.905 8zm-1.237-.827L8.688 5.18V1.97l5.386 3.59-2.406 1.61z" fill-rule="nonzero"/></symbol>
  <symbol id="dribbble" viewBox="0 0 16 16"><path d="M8 16c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm6.747-6.905c-.234-.074-2.115-.635-4.257-.292.894 2.456 1.258 4.456 1.328 4.872 1.533-1.037 2.624-2.68 2.93-4.58zM10.67 14.3c-.102-.6-.5-2.688-1.46-5.18l-.044.014C5.312 10.477 3.93 13.15 3.806 13.4c1.158.905 2.614 1.444 4.194 1.444.947 0 1.85-.194 2.67-.543zm-7.747-1.72c.155-.266 2.03-3.37 5.555-4.51.09-.03.18-.056.27-.08-.173-.39-.36-.778-.555-1.16C4.78 7.85 1.47 7.807 1.17 7.8l-.003.208c0 1.755.665 3.358 1.756 4.57zM1.31 6.61c.307.005 3.122.017 6.318-.832-1.132-2.012-2.353-3.705-2.533-3.952-1.912.902-3.34 2.664-3.784 4.785zM6.4 1.368c.188.253 1.43 1.943 2.548 4 2.43-.91 3.46-2.293 3.582-2.468C11.323 1.827 9.736 1.176 8 1.176c-.55 0-1.087.066-1.6.19zm6.89 2.322c-.145.194-1.29 1.662-3.816 2.694.16.325.31.656.453.99.05.117.1.235.147.352 2.274-.286 4.533.172 4.758.22-.015-1.613-.59-3.094-1.543-4.257z"/></symbol>
  <symbol id="designernews" viewBox="0 0 16 16"><path d="M7.514 7.988c0-2.555-1.57-4.287-4.56-4.287H0v8.6h3.016c2.903 0 4.498-1.75 4.498-4.31zM5.37 8c0 1.844-.946 2.642-2.467 2.642H2.13V5.358h.773C4.36 5.358 5.37 6.193 5.37 8zM16 12.3V3.7h-1.98v4.81L10.853 3.7h-2.07v8.6h1.982V7.152l3.39 5.146H16z"/></symbol>
  <symbol id="facebook" viewBox="0 0 16 16"><path d="M15.117 0H.883C.395 0 0 .395 0 .883v14.234c0 .488.395.883.883.883h7.663V9.804H6.46V7.39h2.086V5.607c0-2.066 1.262-3.19 3.106-3.19.883 0 1.642.064 1.863.094v2.16h-1.28c-1 0-1.195.476-1.195 1.176v1.54h2.39l-.31 2.416h-2.08V16h4.077c.488 0 .883-.395.883-.883V.883C16 .395 15.605 0 15.117 0" fill-rule="nonzero"/></symbol>
  <symbol id="flickr" viewBox="0 0 16 16"><path d="M0 8c0 2.05 1.662 3.71 3.71 3.71 2.05 0 3.713-1.66 3.713-3.71S5.76 4.29 3.71 4.29C1.663 4.29 0 5.95 0 8zm8.577 0c0 2.05 1.662 3.71 3.712 3.71C14.337 11.71 16 10.05 16 8s-1.662-3.71-3.71-3.71c-2.05 0-3.713 1.66-3.713 3.71z"/></symbol>
  <symbol id="github" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"/></symbol>
  <symbol id="hackernews" viewBox="0 0 16 16"><path d="M0 0v16h16V0H0zm8.92 8.96v3H7.25v-3l-2.75-5h1.96l1.66 3.48L9.7 3.96h1.88l-2.66 5z"/></symbol>
  <symbol id="instagram" viewBox="0 0 16 16"><path d="M8 0C5.827 0 5.555.01 4.702.048 3.85.088 3.27.222 2.76.42c-.526.204-.973.478-1.417.923-.445.444-.72.89-.923 1.417-.198.51-.333 1.09-.372 1.942C.008 5.555 0 5.827 0 8s.01 2.445.048 3.298c.04.852.174 1.433.372 1.942.204.526.478.973.923 1.417.444.445.89.72 1.417.923.51.198 1.09.333 1.942.372.853.04 1.125.048 3.298.048s2.445-.01 3.298-.048c.852-.04 1.433-.174 1.942-.372.526-.204.973-.478 1.417-.923.445-.444.72-.89.923-1.417.198-.51.333-1.09.372-1.942.04-.853.048-1.125.048-3.298s-.01-2.445-.048-3.298c-.04-.852-.174-1.433-.372-1.942-.204-.526-.478-.973-.923-1.417-.444-.445-.89-.72-1.417-.923-.51-.198-1.09-.333-1.942-.372C10.445.008 10.173 0 8 0zm0 1.44c2.136 0 2.39.01 3.233.048.78.036 1.203.166 1.485.276.374.145.64.318.92.598.28.28.453.546.598.92.11.282.24.705.276 1.485.038.844.047 1.097.047 3.233s-.01 2.39-.048 3.233c-.036.78-.166 1.203-.276 1.485-.145.374-.318.64-.598.92-.28.28-.546.453-.92.598-.282.11-.705.24-1.485.276-.844.038-1.097.047-3.233.047s-2.39-.01-3.233-.048c-.78-.036-1.203-.166-1.485-.276-.374-.145-.64-.318-.92-.598-.28-.28-.453-.546-.598-.92-.11-.282-.24-.705-.276-1.485C1.45 10.39 1.44 10.136 1.44 8s.01-2.39.048-3.233c.036-.78.166-1.203.276-1.485.145-.374.318-.64.598-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276C5.61 1.45 5.864 1.44 8 1.44zm0 2.452c-2.27 0-4.108 1.84-4.108 4.108 0 2.27 1.84 4.108 4.108 4.108 2.27 0 4.108-1.84 4.108-4.108 0-2.27-1.84-4.108-4.108-4.108zm0 6.775c-1.473 0-2.667-1.194-2.667-2.667 0-1.473 1.194-2.667 2.667-2.667 1.473 0 2.667 1.194 2.667 2.667 0 1.473-1.194 2.667-2.667 2.667zm5.23-6.937c0 .53-.43.96-.96.96s-.96-.43-.96-.96.43-.96.96-.96.96.43.96.96z"/></symbol>
  <symbol id="linkedin" viewBox="0 0 16 16"><path d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51V7.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero"/></symbol>
  <symbol id="medium" viewBox="0 0 16 16"><path d="M11.824 12.628l-.276.45.798.398 2.744 1.372c.15.076.294.11.418.11.278 0 .467-.177.467-.492V5.883l-4.15 6.745zm4.096-8.67c-.004-.003 0-.01-.003-.012l-4.825-2.412c-.06-.03-.123-.038-.187-.044-.016 0-.03-.01-.047-.01-.184 0-.368.092-.467.254l-.24.39-.5.814-1.89 3.08 1.89 3.076.5.813.5.812.59.95 4.71-7.64c.02-.03.01-.06-.02-.08zm-6.27 7.045L7.17 6.97l-.295-.477-.294-.477-.25-.416v4.867l3.32 1.663.5.25.5.25-.5-.813-.5-.813zM.737 1.68L.59 1.608c-.085-.042-.166-.062-.24-.062-.206 0-.35.16-.35.427v10.162c0 .272.2.594.442.716l4.145 2.08c.107.06.208.08.3.08.257 0 .438-.2.438-.53V4.01c0-.02-.012-.04-.03-.047L.738 1.68z"/></symbol>
  <symbol id="pinterest" viewBox="0 0 16 16"><path d="M8 0C3.582 0 0 3.582 0 8c0 3.39 2.108 6.285 5.084 7.45-.07-.633-.133-1.604.028-2.295.146-.625.938-3.977.938-3.977s-.24-.48-.24-1.188c0-1.11.646-1.943 1.448-1.943.683 0 1.012.513 1.012 1.127 0 .687-.436 1.713-.662 2.664-.19.797.4 1.445 1.185 1.445 1.42 0 2.514-1.498 2.514-3.662 0-1.915-1.376-3.254-3.342-3.254-2.276 0-3.61 1.707-3.61 3.472 0 .687.263 1.424.593 1.825.066.08.075.15.057.23-.06.252-.196.796-.223.907-.035.146-.115.178-.268.107-.998-.465-1.624-1.926-1.624-3.1 0-2.524 1.834-4.84 5.287-4.84 2.774 0 4.932 1.977 4.932 4.62 0 2.757-1.74 4.977-4.153 4.977-.81 0-1.572-.422-1.833-.92l-.5 1.902c-.18.695-.667 1.566-.994 2.097.75.232 1.545.357 2.37.357 4.417 0 8-3.582 8-8s-3.583-8-8-8z" fill-rule="nonzero"/></symbol>
  <symbol id="rss" viewBox="0 0 16 16"><path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194 11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.985 2.194-2.196 2.194C.984 16 0 15.017 0 13.806c0-1.21.983-2.195 2.194-2.195zM10.606 16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"/></symbol>
  <symbol id="reddit" viewBox="0 0 16 16"><path d="M1.473 9.368c-.04.185-.06.374-.06.566 0 2.3 2.94 4.173 6.554 4.173 3.613 0 6.553-1.872 6.553-4.173 0-.183-.02-.364-.055-.54l-.01-.022c-.013-.036-.02-.073-.02-.11-.2-.784-.745-1.497-1.533-2.072-.03-.01-.058-.026-.084-.047-.017-.013-.03-.028-.044-.043-1.198-.824-2.91-1.34-4.807-1.34-1.88 0-3.576.506-4.772 1.315-.01.012-.02.023-.033.033-.026.022-.056.04-.087.05-.805.576-1.364 1.293-1.572 2.086 0 .038-.01.077-.025.114l-.005.01zM8 13.003c-1.198 0-2.042-.26-2.58-.8-.116-.116-.116-.305 0-.422.117-.11.307-.11.424 0 .42.42 1.125.63 2.155.63 1.03 0 1.73-.2 2.15-.62.11-.11.3-.11.42 0 .11.12.11.31 0 .43-.54.54-1.38.8-2.58.8zM5.592 7.945c-.61 0-1.12.51-1.12 1.12 0 .608.51 1.102 1.12 1.102.61 0 1.103-.494 1.103-1.102 0-.61-.494-1.12-1.103-1.12zm4.83 0c-.61 0-1.12.51-1.12 1.12 0 .608.51 1.102 1.12 1.102.61 0 1.103-.494 1.103-1.102 0-.61-.494-1.12-1.103-1.12zM13.46 6.88c.693.556 1.202 1.216 1.462 1.94.3-.225.48-.578.48-.968 0-.67-.545-1.214-1.214-1.214-.267 0-.52.087-.728.243zM1.812 6.64c-.67 0-1.214.545-1.214 1.214 0 .363.16.7.43.927.268-.72.782-1.37 1.478-1.92-.202-.14-.443-.22-.694-.22zm6.155 8.067c-3.944 0-7.152-2.14-7.152-4.77 0-.183.016-.363.046-.54-.53-.33-.86-.91-.86-1.545 0-1 .82-1.812 1.82-1.812.45 0 .87.164 1.2.455 1.24-.796 2.91-1.297 4.75-1.33l1.21-3.69.27.063s.01 0 .01.002l2.82.663c.23-.533.76-.908 1.38-.908.82 0 1.49.67 1.49 1.492 0 .823-.67 1.492-1.49 1.492s-1.49-.67-1.49-1.49L9.4 2.18l-.98 2.99c1.77.07 3.37.57 4.57 1.35.33-.31.764-.48 1.225-.48 1 0 1.814.81 1.814 1.81 0 .66-.36 1.26-.92 1.58.02.17.04.33.04.5-.01 2.63-3.21 4.77-7.16 4.77zM13.43 1.893c-.494 0-.895.4-.895.894 0 .493.4.894.894.894.49 0 .89-.4.89-.89s-.4-.89-.9-.89z"/></symbol>
  <symbol id="skype" viewBox="0 0 16 16"><path d="M8.035 12.6c-2.685 0-3.885-1.322-3.885-2.313 0-.51.374-.865.89-.865 1.15 0 .85 1.653 2.995 1.653 1.096 0 1.703-.597 1.703-1.208 0-.368-.18-.775-.904-.954l-2.387-.597C4.524 7.833 4.175 6.79 4.175 5.812c0-2.034 1.91-2.798 3.704-2.798 1.65 0 3.6.916 3.6 2.136 0 .523-.452.827-.97.827-.98 0-.798-1.36-2.773-1.36-.98 0-1.523.444-1.523 1.08 0 .636.774.84 1.446.993l1.767.392c1.936.433 2.427 1.566 2.427 2.633 0 1.652-1.266 2.886-3.82 2.886m7.4-3.264l-.014.084-.028-.16c.015.024.028.05.042.076.082-.45.125-.912.125-1.373 0-1.023-.2-2.014-.595-2.948-.38-.902-.925-1.712-1.62-2.407-.692-.696-1.5-1.242-2.4-1.623C10.015.59 9.025.39 8.005.39c-.48 0-.963.045-1.43.135H6.57l.08.04-.16-.023.08-.016C5.927.183 5.205 0 4.472 0 3.278 0 2.155.466 1.31 1.313.465 2.16 0 3.286 0 4.483c0 .763.195 1.512.563 2.175l.013-.083.028.16c-.015-.026-.027-.052-.04-.077-.076.43-.115.867-.115 1.305 0 1.022.2 2.014.593 2.948.38.903.925 1.713 1.62 2.408.693.695 1.5 1.242 2.4 1.623.932.397 1.92.597 2.94.597.445 0 .89-.04 1.325-.118l-.077-.043.162.028-.084.014c.67.378 1.426.58 2.2.58 1.194 0 2.317-.466 3.162-1.313.845-.846 1.31-1.972 1.31-3.17 0-.765-.197-1.517-.566-2.18" fill-rule="nonzero"/></symbol>
  <symbol id="tumblr" viewBox="0 0 16 16"><path d="M9.708 16c-3.396 0-4.687-2.504-4.687-4.274V6.498H3.403V4.432C5.83 3.557 6.412 1.368 6.55.12c.01-.086.077-.12.115-.12H9.01v4.076h3.2v2.422H8.997v4.98c.01.667.25 1.58 1.472 1.58h.067c.424-.012.994-.136 1.29-.278l.77 2.283c-.288.424-1.594.916-2.77.936h-.12z" fill-rule="nonzero"/></symbol>
  <symbol id="twitch" viewBox="0 0 16 16"><g fill-rule="nonzero"><path d="M1.393 0L.35 2.783v11.13h3.824V16h2.088l2.085-2.088h3.13L15.65 9.74V0H1.394zm1.39 1.39H14.26v7.653l-2.435 2.435H8l-2.085 2.085v-2.085H2.783V1.39z"/><path d="M6.61 8.348H8V4.175H6.61v4.173zm3.824 0h1.39V4.175h-1.39v4.173z"/></g></symbol>
  <symbol id="twitter" viewBox="0 0 16 16"><path d="M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.375-1.337.648-2.085.795-.598-.638-1.45-1.036-2.396-1.036-1.812 0-3.282 1.468-3.282 3.28 0 .258.03.51.085.75C5.152 5.39 2.733 4.084 1.114 2.1.83 2.583.67 3.147.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.416-.02-.617-.058.418 1.304 1.63 2.253 3.067 2.28-1.124.88-2.54 1.404-4.077 1.404-.265 0-.526-.015-.783-.045 1.453.93 3.178 1.474 5.032 1.474 6.038 0 9.34-5 9.34-9.338 0-.143-.004-.284-.01-.425.64-.463 1.198-1.04 1.638-1.7z" fill-rule="nonzero"/></symbol>
  <symbol id="vimeo" viewBox="0 0 16 16"><path d="M15.992 4.275c-.07 1.56-1.16 3.697-3.263 6.41-2.176 2.832-4.017 4.248-5.522 4.248-.933 0-1.722-.862-2.367-2.588L3.55 7.6c-.48-1.724-.993-2.587-1.542-2.587-.12 0-.538.252-1.255.755L0 4.796C.79 4.1 1.568 3.406 2.335 2.71c1.053-.912 1.844-1.39 2.37-1.44 1.246-.12 2.012.733 2.3 2.56.31 1.97.526 3.194.647 3.673.36 1.634.754 2.45 1.185 2.45.335 0 .838-.53 1.51-1.59.67-1.06 1.028-1.866 1.076-2.42.096-.915-.263-1.374-1.077-1.374-.383 0-.778.087-1.185.262.788-2.58 2.29-3.834 4.508-3.762 1.644.048 2.42 1.116 2.324 3.205z" fill-rule="nonzero"/></symbol>
  <symbol id="youtube" viewBox="0 0 16 16"><path d="M0 7.345c0-1.294.16-2.59.16-2.59s.156-1.1.636-1.587c.608-.637 1.408-.617 1.764-.684C3.84 2.36 8 2.324 8 2.324s3.362.004 5.6.166c.314.038.996.04 1.604.678.48.486.636 1.588.636 1.588S16 6.05 16 7.346v1.258c0 1.296-.16 2.59-.16 2.59s-.156 1.102-.636 1.588c-.608.638-1.29.64-1.604.678-2.238.162-5.6.166-5.6.166s-4.16-.037-5.44-.16c-.356-.067-1.156-.047-1.764-.684-.48-.487-.636-1.587-.636-1.587S0 9.9 0 8.605v-1.26zm6.348 2.73V5.58l4.323 2.255-4.32 2.24h-.002z"/></symbol>
  <symbol id="link" viewBox="0 0 16 16"><path d="M5.86 12.7l-.81.8c-.7.7-1.84.7-2.54 0a1.75 1.75 0 0 1 0-2.5l2.98-2.96c.61-.61 1.77-1.52 2.62-.68a1 1 0 1 0 1.4-1.4c-1.44-1.43-3.57-1.17-5.42.67L1.1 9.6a3.72 3.72 0 0 0 0 5.32 3.78 3.78 0 0 0 5.34 0l.8-.8a1 1 0 1 0-1.39-1.42zm9.03-11.5c-1.55-1.53-3.7-1.6-5.14-.19l-1 1a1 1 0 1 0 1.39 1.41l1-1c.75-.74 1.72-.43 2.35.2a1.75 1.75 0 0 1 0 2.5l-3.17 3.15c-1.46 1.45-2.14.77-2.43.48a1 1 0 0 0-1.4 1.4c.67.67 1.43 1 2.23 1 .98 0 2.01-.5 3-1.47l3.17-3.15a3.72 3.72 0 0 0 0-5.32z"/></symbol>
  <symbol id="email" viewBox="0 0 16 11"><path fill-rule="evenodd" d="M1.33 0h13.34L8 5 1.33 0zM16 0v11H0V0l8 6 8-6z"/></symbol>
  <symbol id="nav" viewBox="0 0 16 11"><path d="M0 12h16v-2H0v2zm0-5h16V5H0v2zm0-7v2h16V0H0z"/></symbol>
</svg>


    <header class="header">
  <div class="container">
    

    
  <nav class="nav">
  <ul class="list list--nav">
    
      
    
      
        <li class="item  item--nav">

          

          
            <a href="/blog/"></a>
          
        </li>
      
    
      
        <li class="item  item--nav  item--current">

          

          
            <a href="/"></a>
          
        </li>
      
    
  </ul>
</nav>



<script type="text/javascript">
  // Get list and button
  const navList = document.querySelector('.header .list--nav')
  const button  = document.querySelector('.header .button--nav')

  // Hide nav and apply toggle
  const collapseNav = () => {
    if (document.body.clientWidth < 640) {
      navList.style.setProperty('--listHeight', `-${navList.offsetHeight}px`)
    } else {
      navList.removeAttribute('style')
    }

    button.onclick = () => {
      navList.style.setProperty('transition', `margin .1s`)
      if (navList.style.getPropertyValue('--listHeight')) {
        navList.style.removeProperty('--listHeight')
      } else {
        navList.style.setProperty('--listHeight', `-${navList.offsetHeight}px`)
      }
    }
  }

  collapseNav()

  // Check on resize if to collapse nav
  window.addEventListener('resize', () => {
    collapseNav()
  })
</script>

  </div>

  




  <div class="feature" style="background-image: url(https://param-raval.github.io/ecap-segmentation.github.io/assests/img/bios_bg.png)">
    <div class="container  typeset">
      <h2 id="automatic-fiber-type-segmentation-in-exogenous-peripheral-neural-signal">Automatic Fiber Type Segmentation in Exogenous Peripheral Neural Signal</h2>

    </div>
  </div>



</header>


<main class="main  container">

  <article class="article  article--page  content  typeset">

    <h1></h1>

    <h1 id="abstract">Abstract</h1>
<p>Vagus nerve stimulation (VNS) is a promising innovation in the treatment of chronic conditions
through neuromodulation. Development of a closed-loop neuromodulation interface
is a challenging problem to solve given the complexity and large amounts of data transferred
as exogenous neural signals between the brain and the organs. Machine learning has
the required capabilities to process and analyse this data and develop innovative solutions.
Nerve fibres that activated upon electrical stimulation of the vagus nerve fire up in the form of evoked compound action
potentials (eCAPs). Identifying various fibre types from these responses aide in linking them
to their physiological role in the body and thus can be modulated to develop personalised
therapies with minimal side-effects. This work proposes an approach to automatically
segment eCAPs into activations of various fibre types. We report that of the four fibre types, two are reliably segmented by the two proposed models while some challenges are identified that limit improvement in the others. Finally, we propose a web-based annotation tool to visualise and annotate the segmented eCAPs to create a richer dataset that, with more data, will improve the performance of the models.</p>

<ul>
  <li><a href="#abstract">Abstract</a></li>
  <li><a href="#neural-data-and-challenges">Neural Data and Challenges</a>
    <ul>
      <li><a href="#peripheral-nervous-system-and-vagus-nerve-stimulation">Peripheral nervous system and vagus nerve stimulation</a></li>
      <li><a href="#dataset">Dataset</a></li>
      <li><a href="#background-on-ecap-segmentation">Background on eCAP Segmentation</a></li>
      <li><a href="#methods">Methods</a>
        <ul>
          <li><a href="#baseline">Baseline</a></li>
          <li><a href="#proposed-approaches-in-ecap-segmentation">Proposed Approaches in eCAP Segmentation</a></li>
          <li><a href="#bilstmsattention">BiLSTMs+Attention</a></li>
          <li><a href="#lstm-ed">LSTM-ED</a></li>
          <li><a href="#conv-ed">Conv-ED</a></li>
        </ul>
      </li>
      <li><a href="#results">Results</a></li>
      <li><a href="#bootstrapping-analysis">Bootstrapping Analysis</a>
        <ul>
          <li><a href="#results-from-this-analysis">Results from this analysis</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#ecap-annotation-tool">eCAP Annotation Tool</a></li>
  <li><a href="#retraining-and-steps-towards-live-integration">Retraining and Steps Towards Live Integration</a></li>
</ul>

<h1 id="neural-data-and-challenges">Neural Data and Challenges</h1>

<h3 id="peripheral-nervous-system-and-vagus-nerve-stimulation">Peripheral nervous system and vagus nerve stimulation</h3>
<p>The peripheral nervous system (PNS) serves as the conduit between the central nervous
system (CNS), comprising the brain and spinal cord, and the rest of the body. It encompasses
a vast network of nerves that extend throughout the body, connecting organs, muscles, and
tissues to the CNS. The PNS plays a crucial role in transmitting sensory information from
the environment to the brain, as well as coordinating motor responses that govern movement
and bodily functions.</p>

<p>One of the key components of the PNS is the vagus nerve, the longest
cranial nerve in the body, which extends from the brainstem to various organs in the chest
and abdomen. The vagus nerve is a major player in the parasympathetic nervous system (PSNS), regulating essential bodily
functions such as heart rate, digestion, and respiratory rate.</p>

<p>Vagus nerve stimulation (VNS) is a therapeutic technique that involves the delivery of electrical impulses to the vagus nerve. This process typically involves the surgical implantation of a small device, similar to a pacemaker, which is connected to the vagus nerve. The
device generates controlled electrical pulses that travel along the vagus nerve, modulating
its activity and influencing neural pathways involved in various physiological processes. By
modulating the activity of the vagus nerve, VNS has been shown to influence neural pathways
involved in mood regulation, seizure control, inflammation modulation, and autonomic function.</p>

<h3 id="dataset">Dataset</h3>

<p><strong>Neural interface</strong>: The vagus nerve is multi-fascicle in nature which poses a challenge to activate specific fibres and record their activation. Since the recorded intensity of a fibre activation varies around the nerve, a unique electrode arrangement in the neural interface helps capture the responses from various positions on the nerve. The neural interface can be described as follows:</p>
<ul>
  <li>The interface involves reading electrical impulses using electrodes following an electrical stimulation.</li>
  <li>The electrodes, known as cuff electrodes, wrap around the nerve externally to avoid damage to the nerve.
    <ul>
      <li>These cuff electrodes have a lower signal-to-noise ratio than more penetrative electrodes available but they are the least invasive type of electrodes that are more suited in clinical settings.</li>
      <li>Each multi-contact cuff contain eight electrodes arranged in longitudinal bipolar pairs.</li>
    </ul>
  </li>
  <li>This system collect responses by applying stimulation pulses with varying current (10-
2500μA), frequency (1-1500 Hz), pulse width (130-1000μs), and train duration (1-10s).</li>
</ul>

<p>The graphic in Figure 1 stages the cuff electrode placement and shows the arrangement of the
eight electrodes in an unrolled cuff.</p>

<p>The datasets were obtained from the three different trials performed by BIOS Health. The trials were acute trials each conducted on five porcine subjects with the neural interface attached surgically to record neural activity
and other vital signs and physiological parameters. A typical neural response following such experiments is shown in Figure 2 where some of the fibres of interest are labelled.</p>

<p><strong>Manual labelling</strong>: The data used in the current experiments was labelled manually by experts who observe the trends of activation of various fibres using a stacked plot similar to Figure 2. The subplots are arranged in increasing order of stimulation current intensity. Prior knowledge about the order in which various fibres are fired and noting the gradual intensification of the activation of certain fibres help the expert in identifying them.</p>

<p>For instance, activations for fibres A-beta and A-gamma appear early at lower stimulation
currents than B-fibre. These are followed by a trailing laryngeal muscle artefact which
appears without conduction delay unlike other eCAPs. Across subjects, however, activations
of fibres differ in temporal location of activation as well as the intensity and shapes of the
activation spikes.</p>

<p><img src="http://localhost:4000/assests/img/cuff.png" alt="image" /></p>

<p><strong>Fig. 1. Illustration of the three cuff electrode interface placed on the vagus nerve. Sourced from BIOS Health.</strong></p>

<div style="display: flex; justify-content: center;">
<img src="http://localhost:4000/assests/img/stacked1.png" alt="image" />
</div>

<p><strong>Fig. 2. Typical neural response after a stimulation (St, not shown) of pulse width 260μs and varying current.</strong></p>

<h2 id="background-on-ecap-segmentation">Background on eCAP Segmentation</h2>

<p><strong>eCAPs</strong>: The effect of VNS on the physiology is influenced by vagal nerve fibre recruitment. To determine which vagal fibers produce the intended physiological effect, upon stimulation, different nerve activation patterns must be elicited such that presence and absence of different fiber types can be controlled to examine the effects of activation pattern on physiology. The activations of different fibres in a nerve evoke in the form of action potentials.</p>

<p>The cumulative response of all action potentials from different fibre types in the said nerve is called a compound action potential (CAP). The neural response following VNS is thus characterized by evoked compound action potentials (eCAPs).</p>

<p><strong>Different fibre types</strong>: Fibre types in peripheral nerves are classified into A, B and C types, with A having the lowest threshold for evoking eCAPs, followed by B and C. A-type fibres, being the largest in diameter (1–20 μm), are further divided into A-alpha, A-beta, A-gamma, and A-delta in decreasing order of diameters.</p>

<p>Firing of different types of fibres is linked to different physiological responses including laryngeal muscle, breathing, and heart rate responses. The relationships between changes in heart rate and B-fibre activations post VNS have been closely studied. On the other hand, laryngeal muscles contractions are unintended side effects of A-fibre activations.</p>

<p>Thus, using eCAPs recorded with a range of stimulation parameters, the presence of activations from different types and their intensities can be studied.</p>

<p><strong>Modeling eCAPs</strong>: Usually in a VNS therapy, eCAPs are modelled manually to filter out specific fibre types to predict the physiological response. This is a tedious and error-prone process, and due to the absence of opportunities to optimise stimulation parameters, may not lead to the most effective therapeutic results. Moreover, with changing stimulation parameters such as current and pulse width, eCAP responses also change in their location of activation and shapes in the recordings. This becomes increasingly difficult to track manually.</p>

<p>Automated eCAP segmentation involves partitioning the neural response obtained from neural recordings as a time-series into distinct segments, each corresponding to specific fiber types activated by the stimulus. In machine learning, this problem can be formulated as a time-series segmentation problem.</p>

<h2 id="methods">Methods</h2>

<h3 id="baseline">Baseline</h3>

<p>The baselines were computed in a data agnostic fashion by simply
averaging the manually labelled start and end coordinates of the bounds for every fibre type
across training subjects. All the test samples were assigned the same bounds for each fibre
type and evaluated using F1-scores. Figure 6 shows the results of the baseline with the
X-axis showing different fibre types and the Y-axis their F1-score for a given test subject.</p>
<h3 id="proposed-approaches-in-ecap-segmentation">Proposed Approaches in eCAP Segmentation</h3>

<h3 id="bilstmsattention">BiLSTMs+Attention</h3>

<p><img src="http://localhost:4000/assests/img/segnet2.0.png" alt="image" /></p>

<p><strong>Fig. 3. Architecture of the BiLSTMs model with an attention layer to weigh the numerical features.</strong></p>

<ul>
  <li>2 Bidirectional LSTM layers</li>
  <li>2 linear layers to encode the neurogram into a vector of size 32×1. Linear layers use ReLU activation and two dropout layers of rate 0.5.</li>
  <li>Another fully connected layer to encode the numerical features into the same hidden size, 32.</li>
  <li>A multi headed self-attention layer (8 heads, 0.1 dropout) that uses the concatenated feature vector.</li>
  <li>A fully connected layer to produce a prediction mask of the same size as the input.</li>
</ul>

<h3 id="lstm-ed">LSTM-ED</h3>

<p><img src="http://localhost:4000/assests/img/lstm_ae_model.png" alt="image" /></p>

<p><strong>Fig. 4. An encoder-decoder architecture with an added attention layer to weigh the encoded representation with encoded numerical features. The encoder and decoder can be a series of BiLSTM layers (LSTM-ED) or convolutional layers (Conv-ED).</strong></p>

<p>The LSTM-ED model uses an encoder-decoder style architecture which is commonly used in image segmentation problems in computer vision.</p>

<p><strong>Encoder</strong>:  The encoder is similar to the BiLSTM+Attention model except being directly attached to the attention layer. It has 3 layers of BiLSTMs with a hidden size of 32. The attention layer contains 8 attention heads with a dropout rate of 0.1.</p>

<p><strong>Decoder</strong>: The decoder attached immediately after the latter. This also has 3 layers of BiLSTMs with a hidden size of 32. The decoder is followed by a fully connected layer to produce the prediction mask.</p>

<h3 id="conv-ed">Conv-ED</h3>
<p>Conv-ED follows the same architecture as shown in Figure 5 but with 1D convolutional layers in place of BiLSTM layers.</p>

<p><strong>Encoder</strong>: There are 4 convolutional layers with 3x3 kernels and 16, 16, 32, and 64 filters respectively, each followed by a ReLU activation. Dropout with a rate of 0.1 is performed after the 2nd, 3rd and 4th convolutional layer. 1D max pooling with size 2 and stride 2 is done after the 2nd and 3rd convolutional layers.</p>

<p><strong>Decoder</strong>: The decoder has 4 transposed convolutional layers with the square kernel size and number of filters respectively being (2, 128), (3, 64), (2, 32), (3, 16). These layers are followed by a ReLU and dropout except for the final convolutional layer which connects to a classification head.</p>

<p>Without the sequential and memory concepts of LSTM, the convolution layers learn local interactions between neighbouring data points in a time series. Convolutional layers automatically learn hierarchical features from the input and can capture patterns at different levels of abstraction. Moreover, the translation invariance of convolutions makes the model immune to time delays across samples, meaning they can detect patterns regardless of their position in the input sequence.</p>

<h2 id="results">Results</h2>

<p style="text-align: center;">Fixed bounds baseline (test F1 score)</p>
<p><img src="http://localhost:4000/assests/img/baseline.png" alt="image" /></p>

<p><strong>Fig. 5. Baseline F1 scores on the test sets</strong></p>

<p style="text-align: center;">BiLSTM+Attention (test F1 score)</p>

<p><img src="http://localhost:4000/assests/img/segnetresult.png" alt="image" /></p>

<p><strong>Fig. 6. F1 scores from BiLSTM+Attention on the test sets</strong></p>

<p style="text-align: center;">Conv-ED (test F1 score)</p>

<p><img src="http://localhost:4000/assests/img/convaeresult.png" alt="image" /></p>

<p><strong>Fig. 7. F1 scores from the convolutional encoder-decoder on the test sets</strong></p>

<p style="text-align: center;">LSTM-ED (test F1 score)</p>

<p><img src="http://localhost:4000/assests/img/lstmaeresult.png" alt="image" /></p>

<p><strong>Fig. 8. F1 scores from the LSTM encoder-decoder on the test sets.</strong></p>

<p><strong>Baseline</strong>: Figure 5 shows that the consistency of A-beta and A-gamma in their frequency and location of appearance gives them fairly decent scores when predicted blindly. A-delta and B fibres leave significant room for improvement. It is also worth noting that the interquartile range (IQR) is decently sized despite significant inter-subject variability. The non-fibre label (“other”), being the majority class, is the easiest to predict even using a data agnostic method.</p>

<p><strong>BiLSTM+Attention</strong>: Figure 6 shows that the model does not perform well enough. While producing gains in A-delta and B fibres for some subjects, overall many others have taken a hit. The IQR has also widen in 3 of the 5 labels with four subjects being out of the range in A-beta and B.</p>

<p><strong>Conv-ED</strong>: Figure 7 shows while the improvements over BiLSTM+Attention are modest in A-beta and A-gamma, there is a notable jump in performance in the B-fibre compared to the baseline. Three of the six subjects perform over 0.4 while two have over 0.6 in their F1-scores. In A-beta and A-gamma, the averages are still close to the baseline but the IQR has reduced slightly.</p>

<p><strong>LSTM-ED</strong>: Figure 8 reports that the average performance for A-beta, A-gamma, and B fibres has improved over the baseline, with a notable advance in the B-fibre. Four subjects give a score of 0.4 and above in the B-fibre while the IQR in other fibres has narrowed further.</p>

<h2 id="bootstrapping-analysis">Bootstrapping Analysis</h2>

<p>With the data challenges identified, acquisition of more and better data is required to drive this problem towards a solution. A bootstrapping analysis was conducted to confirm this intuition.</p>

<p><img src="http://localhost:4000/assests/img/bootstrapping.png" alt="image" /></p>

<p><strong>Fig. 9. Diagrammatic explanation of the bootstrapping process.</strong></p>

<ul>
  <li>The aim was to validate that with greater number of subjects, better generalisation can be achieved.</li>
  <li>The setup involved the following procedure:
    <ul>
      <li>∀N ∈ 1,2,3,4, N randomly sampled subjects formed the training set, one subject from the rest for validation, and one for testing.</li>
      <li>The selected model was trained and the metrics logged.</li>
      <li>This process was repeated T = 3 times for every N.</li>
    </ul>
  </li>
  <li>LSTM-ED was used with 8 attention heads with the same cross-validated split strategy and training hyperparameters as described earlier.</li>
  <li>A larger model was chosen in order to minimise variability in results due to model selection and to retain focus on the trends instead of individual scores.</li>
</ul>

<h3 id="results-from-this-analysis">Results from this analysis</h3>

<p>Figure 10 shows the results for A-beta, A-gamma, and B fibres from the bootstrapping
analysis. They can be summarised as follows:</p>

<ul>
  <li>Scores for A-beta and A-gamma show a clear upward trend as the number of training subjects increases. The IQR reduces greatly, signifying the increase in prediction confidence across test subjects.</li>
  <li>This shows that adding more varied subjects helps models to capture general trends better.</li>
  <li>The last chart shows the results for the B-fibre where the upward trend of improvement
is still visible.</li>
  <li>More interesting is the performance stagnation in a few test subjects
where despite more data the model is not able to get equivalent gains.</li>
  <li>This further validates the B-fibre challenges shared earlier where the higher variety B-fibre activations in a small sample space obstructs performance.</li>
</ul>

<p><img src="http://localhost:4000/assests/img/btsp_abeta.png" alt="image" />
<img src="http://localhost:4000/assests/img/btsp_agamma.png" alt="image" />
<img src="http://localhost:4000/assests/img/btsp_b.png" alt="image" />
<strong>Fig. 10. Results from bootstrapping analysis of A-beta, A-gamma, and B-fibres.</strong></p>

<p>Existing studies have linked B-fibres to heart functionalities and targeting on improving
performance would be an important milestone for this project. With visual evidence,
performance metrics, and the bootstrapping analysis, a convincing argument can be made
to acquire data with better B-fibre activations in more number of trials.</p>

<h1 id="ecap-annotation-tool">eCAP Annotation Tool</h1>

<p>With the conclusion that more data is required to improve the performance of the models, a web-based annotation tool was developed to facilitate the process of labelling eCAPs. The tool allows users to visualise the segmented eCAPs along with the bounds predicted from the segmentation model and edit these bounds for every sample. The annotated data can then be used to retrain the models and improve their performance.</p>

<p>Existing method of creating manual labels for eCAP neurograms involves looking at multiple ramp up plots for a subject and creating a fixed set of bounds for different fibre types. Issues with this include:</p>

<ul>
  <li>Only fixed constraints and conditions can be added manually for stim current, polarity, and pulse duration, and recording cuff pair among others.</li>
  <li>This process leads to creation of labels which are not precise enough for training a machine learning model.</li>
  <li>Labelling includes several erroneous labels for fibre types which are either not present or not recognized if present.</li>
</ul>

<p>However, with the eCAP annotation tool,</p>

<ul>
  <li>Annotators can visualise, create, and edit bounds for individual samples.</li>
  <li>Use an UI which enables interaction with the bounds with functionality to create, delete, and edit bound boxes on top of the visualised neurogram. This improves precision and correctness of the labels.</li>
  <li>With an integrated predictive model, the predicted bounds can be displayed reducing the annotation task to only correction.</li>
  <li>A new training set with precise labels can be used to retrain the predictive model to improve performance.</li>
  <li>The tool can exist offline independently and integration with a pipeline to annotate samples during a live trial can use retraining to improve model predictions during the session.</li>
</ul>

<h1 id="retraining-and-steps-towards-live-integration">Retraining and Steps Towards Live Integration</h1>



  </article>

  

</main>

<footer class="footer">
  <div class="container">
    <div class="copyright  typeset">
      <small class="small">&copy; eCAP Segmentation 2024</small>
    </div>

    
<nav class="nav  nav--footer">
  <ul class="list list--nav">
    

      

      <li class="item  item--nav">
        <a href="/#top">Back to top</a>
      </li>
    
  </ul>
</nav>


  </div>
</footer>



    <script type="text/javascript">
(() => {
  const registerServiceWorker = () => {
    if (!navigator.serviceWorker) {
      return;
    }

    navigator.serviceWorker
      .register("/sw.js")
      .then(registration => {
        console.log("Service Worker: registered");
      })
      .catch(err => {
        console.log("Service Worker: registration failed ", err);
      });
  };

  registerServiceWorker();
})();
</script>


    <!-- Overwrite this file with code you want before the closing body tag -->

  </body>

</html>
